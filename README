# ASAPGetaway - Travel Booking System

A web application for browsing and booking travel packages built with ASP.NET Core MVC.

---

## About The Project

This project was developed as part of the Computer Communications & Networks course.  
ASAPGetaway allows users to browse destinations, book trips, manage bookings, and write reviews.  
Admin users can manage trips, users, and waiting lists through a dedicated panel.

---

## Getting Started

### What You Need

- .NET 8.0 SDK
- SQL Server 2019 or newer
- SQL Server Management Studio (SSMS)
- Visual Studio 2022

### How To Run

1. **Clone the project**
```bash
git clone https://github.com/yourusername/ASAPGetaway.git
cd ASAPGetaway
```

2. **Install dependencies**
```bash
dotnet restore
dotnet build
```

3. **Setup database**

Edit `appsettings.json` and update your connection string if needed:
```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Server=(localdb)\\mssqllocaldb;Database=ASAPGetawayDB;Trusted_Connection=True;"
  }
}
```

4. **Create database**

Open SSMS and run the `ASAPGetawayDB.sql` file.  
This creates the database and adds sample data (trips, users, bookings).

5. **Run the app**
```bash
dotnet run
```

Open your browser and go to: `https://localhost:7001`

---

## Login Info

**Admin account:**
- Email: admin@asapgetaway.com
- Password: Admin123!

**Test users:**
- HadarTr@email.com
- OriOh@email.com
- Alona@email.com
- Pedut@email.com

(These users are created by the SQL script. You can also register new users.)

---

## Features

### For Users
- Browse 25+ destinations worldwide
- Search and filter trips by destination, price, dates
- Add trips to cart and checkout
- View booking history and manage bookings
- Write reviews and rate trips (1-5 stars)
- Save trips to wish list
- Join waiting list for full trips
- Get email notifications

### For Admins
- Add, edit, and delete trips
- Set discounts (max 7 days)
- View all users and lock/unlock accounts
- Manage waiting lists for all trips
- View site reviews

---

## Project Structure

```
ASAPGetaway/
├── Controllers/       # Handle requests
├── Models/           # Data classes
├── DAL/              # Database access (ADO.NET)
├── Services/         # Email service
├── Views/            # UI pages
├── wwwroot/          # CSS, JS, images
└── Areas/Identity/   # Login pages
```

---

## Database Tables

- **Trips** - Travel packages with pricing and details
- **Bookings** - User bookings
- **Reviews** - Trip reviews
- **SiteReviews** - General feedback
- **WaitingList** - Queue for sold-out trips (FIFO)
- **WishList** - Saved trips
- **AspNetUsers** - User accounts

The SQL file includes 25 sample trips, bookings, and reviews so you can test everything.

---

## Technologies Used

- ASP.NET Core MVC 8.0
- C# 12
- SQL Server
- ADO.NET for database access
- ASP.NET Core Identity for authentication
- Bootstrap 5 for design
- jQuery for client-side code
- QuestPDF for invoices
- MailKit for emails

---

## Main Features Explained

### Discount System
Admins can set discounts for up to 7 days. The system automatically calculates the final price.

### Waiting List
When a trip is full, users can join a waiting list. It works FIFO (first in, first out).  
When a spot opens, the first person in line gets notified by email.

### Admin Panel
Admins have a special panel to:
- Manage all trips (create, edit, delete, set discounts)
- View and manage all users
- See waiting lists for all trips and remove people if needed
- View feedback from users

### Booking Rules
- Users can have max 3 active bookings
- Cancellation is allowed based on trip policy
- Each trip has a capacity (total rooms)

---

## Troubleshooting

**Can't connect to database?**
- Check your connection string in appsettings.json
- Make sure SQL Server is running

**Database doesn't exist?**
- Run ASAPGetawayDB.sql in SSMS

**Port already in use?**
- Edit Properties/launchSettings.json and change the port numbers

---

## Built By

**Hadar & Ori**  
Computer Communications & Networks Course  
2025-2026

---

## Notes

- The SQL file creates demo data so you can test without manually adding trips
- Admin panel is only visible when logged in as admin
- Images are loaded from Unsplash
- Email notifications require email service configuration in appsettings.json

---

**Enjoy! ✈️**